---
title: 4.1. Non-Fungible Token
sidebar_position: 1
---

# Non-Fungible Token (TIP-4.1)

Requires: [TIP-6.1](./../TIP-6/1.md)

## Abstract

The following standard allows for the implementation of a standard API for NFTs within smart contracts. General information about NFT collection is stored in the NFT collection contract. Each NFT deployed in separate smart contracts and links to NFT collection contract.

This standard provides basic functionality to create, track and transfer NFTs.

## Motivation

A standard interface allows any nft on Everscale to be re-used by other applications: wallets, explorers, marketplaces and etc

## Specification

The keywords “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL” in this document are to be interpreted as described in RFC 2119.


## NFT Сollection

The contract represent shared information about NFT collection and logic for creation of NFTs and burn of NFTs.

Every TIP4.1 compliant collection contract must implement the `ITIP41Collection` interface and [TIP-6.1](./../TIP-6/1.md) interfaces

```solidity
pragma ton-solidity >= 0.58.0;

interface ITIP41Collection {

    /// @notice This event emits when NFTs are created
    /// @param id Unique NFT id
    /// @param nft Address nft contact
    /// @param owner Address of nft owner
    /// @param manager Address of nft manager
    /// @param creator Address of creator that initialize mint nft
    event nftCreated(uint256 id, address nft, address owner, address manager, address creator);

    /// @notice This event emits when NFTs are burned
    /// @param id Unique NFT id
    /// @param nft Address nft contact
    /// @param owner Address of nft owner when it burned
    /// @param manager Address of nft manager when it burned
    event nftBurned(uint256 id, address nft, address owner, address manager);


    /// @notice Count active NFTs for this collection
    /// @return A count of active NFTs minted by this contract except for burned NFTs
    function totalSupply() public view responsible returns (uint128 count);

    /// @notice Returns the NFT code
    /// @return Returns the NFT code as TvmCell
    function nftCode() public view responsible returns (TvmCell code);

    /// @notice Returns the NFT code hash
    /// @return Returns the NFT code hash
    function nftCodeHash() public view responsible returns (uint256 codeHash);

    /// @notice Computes NFT address by unique NFT id
    /// @dev Return unique address for all Ids. You find nothing by address for not a valid NFT.
    /// @param id Unique NFT id
    /// @return Returns address of NFT contract
    function nftAddress(uint256 id) public view responsible returns (address nft);
}
```
**NOTE** The [TIP-6.1](./../TIP-6/1.md) identifier for this interface is `0x00000000`.

### ITIP41Collection.totalSupply()
```solidity
function totalSupply() public view responsible returns (uint128 count);
```
* `count` (`uint128`) -  A count of active NFTs

The func return count of active NFTs. Value increased by one when nft minted and decreased by one when nft burned.

### ITIP41Collection.nftCode()
```solidity
function nftCode() public view responsible returns (TvmCell code);
```
* `code` (`TvmCell`) - nft code

NFTs is a smartcontracts deployed from `collection` smartcontract use nftCode and id. 

### ITIP41Collection.nftCodeHash()
```solidity
function nftCodeHash() public view responsible returns (uint256 codeHash);
```
* `codeHash` (`uint256`) - nft codeHash

A codeHash allows search all smartcontracts using base [DApp](https://main.ton.dev/graphql) functionality

### ITIP41Collection.nftAddress()
```solidity
function nftAddress(uint256 id) public view responsible returns (address nft);
```
* `id` (`uint256`) - Unique NFT id
* `nft` (`address`) - The NFT address

Computes NFT address by unique NFT id. You can check the NFT for availability using base [DApp](https://main.ton.dev/graphql) functionality 

### Events
```solidity
event nftCreated(uint256 id, address nft, address owner, address manager, address creator);
event nftBurned(uint256 id, address nft, address owner, address manager);
```
* `id` (`uint256`) - Unique NFT id
* `nft` (`address`) - The nft address
* `owner` (`address`) - The initial\last owner of the NFT
* `manager` (`address`) - The initial\last manager of the NFT
* `creator` (`address`) - The initial address who initiate nft deploy

This events emits when NFTs are created and burned.

### Mint and burn nft

A functions signature is not included in the specification. 

See the [Events](#Events) documentation for your responsibilities when creating or burning NFTs.

## NFT

#### Create Nft

Emit event when nft created

```solidity
event TokenMinted(address owner, address manager);
```

#### Nft info

Return the nft info

```solidity
function getInfo() public view responsible returns(uint256 id, address owner, address manager, address collection);
```

#### Nft content data

Optional, describe in: [TIP-4.2](./../TIP-4/2.md)

#### Transfer Nft

Change nft owner

```solidity
function changeOwner(address newOwner, address sendGasTo, mapping(address => CallbackParams) callbacks) external;

struct CallbackParams {
    uint256 value;      // ever value will send to address
    TvmCell payload;    // custom payload will proxying to address
}

interface INftChangeOwner {
    function onNftChangeOwner(uint256 id, address oldOwner, address oldManager, address newOwner,  address newManager, address collection, address sendGasTo, TvmCell payload) external;
}
```

Emit event when owner changed

```solidity
event OwnerChanged(address oldOwner, address newOwner);
```

#### Set manager

Change nft manager 

```solidity
function changeManager(address newManager, address sendGasTo, mapping(address => CallbackParams) callbacks) external;

struct CallbackParams {
    uint256 value;      // ever value will send to address
    TvmCell payload;
}

interface INftChangeManager {
    function onNftChangeManager(uint256 id, address oldOwner, address oldManager, address newOwner,  address newManager, address collection, address sendGasTo, TvmCell payload) external;
}
```

Emit event when manager changed

```solidity
event ManagerChanged(address oldManager, address newManager);
```

#### Burn Token

Function signature is not included in the specification

Emit event when nft burned

```solidity
event TokenBurned(address owner, address manager);
```

#### Standard interface detection

```solidity
interface TIP41Nft {
    function getInfo() public view responsible returns(uint256 id, address owner, address manager, address collection);
    function changeOwner(address newOwner, address sendGasTo, mapping(address => CallbackParams) callbacks) external;
    function changeManager(address newManager, address sendGasTo, mapping(address => CallbackParams) callbacks) external;
}


```

The nft interface ID is `0x00000000`.

## References

- [Etehreum EIP-721](https://eips.ethereum.org/EIPS/eip-721)
- [Solana v1.2.0](https://docs.metaplex.com/token-metadata/specification)
- [TON NFT](https://github.com/ton-blockchain/TIPs/issues/62), [TON DATA](https://github.com/ton-blockchain/TIPs/issues/64)
- [Tezos TZIP12](https://gitlab.com/tezos/tzip/-/blob/master/proposals/tzip-12/tzip-12.md)
- [BNS BEP721](https://docs.binance.org/smart-chain/developer/nft-metadata-standard.html)

